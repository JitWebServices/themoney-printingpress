---
const { currentPath } = Astro.props;

const normalize = (path: string) => path.replace(/\/$/, "") || "/";
const isActive = (href: string) => normalize(currentPath) === normalize(href);

// Check if we're on the home page
const base = import.meta.env.BASE_URL || '/';
const isHomePage = normalize(currentPath) === normalize(base);

// Helper function to create proper URLs
const getUrl = (path: string) => {
  const base = import.meta.env.BASE_URL || '/';
  return base === '/' ? path : base + path;
};
---

<div style="background-color: #F2ECE1;">
	<!-- Banner Logo as Header -->
	<a href={getUrl('/')}>
		<div style="text-align: center; padding: 10px 0;">
			{isHomePage ? (
				<!-- Full banner for home page only -->
				<img
					src={getUrl('/images/logo-printing-press.svg')}
					alt="The Money-Printing Press"
					style="max-width: 900px; width: 100%; height: auto; margin: 0 auto; display: block;"
				/>
			) : (
				<!-- Minimal banner for all other pages -->
				<img
					src={getUrl('/images/TMPP-banner-minimal.svg')}
					alt="The Money-Printing Press"
					style="max-width: 600px; width: 100%; height: auto; margin: 0 auto; display: block;"
				/>
			)}
		</div>
	</a>

	<!-- Navigation -->
	<div style="background: linear-gradient(135deg, #9C272E 0%, #B83339 100%); padding: 10px 0;">
		<div style="max-width: 1200px; margin: 0 auto; text-align: center;">
			<a
				href={getUrl('/')}
				style={`font-size: 18px; padding: 8px 16px; margin: 0 5px; text-decoration: none; color: ${isActive("/") ? "#f5f5dc" : "white"}; background: ${isActive("/") ? "linear-gradient(135deg, #8b2635, #6d1f28)" : "transparent"}; border-radius: 4px; display: inline-block;`}
			>
				Home
			</a>
			<a
				href={getUrl('/archive')}
				style={`font-size: 18px; padding: 8px 16px; margin: 0 5px; text-decoration: none; color: ${isActive("/archive") ? "#f5f5dc" : "white"}; background: ${isActive("/archive") ? "linear-gradient(135deg, #8b2635, #6d1f28)" : "transparent"}; border-radius: 4px; display: inline-block;`}
			>
				Archive
			</a>
			<a
				href={getUrl('/about')}
				style={`font-size: 18px; padding: 8px 16px; margin: 0 5px; text-decoration: none; color: ${isActive("/about") ? "#f5f5dc" : "white"}; background: ${isActive("/about") ? "linear-gradient(135deg, #8b2635, #6d1f28)" : "transparent"}; border-radius: 4px; display: inline-block;`}
			>
				About
			</a>
		</div>
	</div>
</div>

